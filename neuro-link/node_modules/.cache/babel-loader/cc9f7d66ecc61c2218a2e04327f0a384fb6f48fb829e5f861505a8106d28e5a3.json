{"ast":null,"code":"// src/services/activityService.js\n\n/**\r\n * üîπ Base de datos local de actividades por m√≥dulo\r\n * (sustituye completamente al archivo actividades.json)\r\n */\nconst actividadesData = {\n  Social: [{\n    name: \"Construye la respuesta\",\n    description: \"El usuario arma una respuesta social adecuada tocando las palabras en orden.\",\n    why_useful: \"Desarrolla el lenguaje expresivo y la estructura de la conversaci√≥n.\",\n    difficulty: \"3\",\n    stimulus: \"visual\"\n  }, {\n    name: \"Voz y emoci√≥n\",\n    description: \"Escucha una frase con una emoci√≥n y selecciona cu√°l es la emoci√≥n expresada.\",\n    why_useful: \"Entrena la interpretaci√≥n del tono de voz y la empat√≠a auditiva.\",\n    difficulty: \"2\",\n    stimulus: \"auditivo\"\n  }, {\n    name: \"Empat√≠a en acci√≥n\",\n    description: \"Se presenta una situaci√≥n y el usuario elige la acci√≥n emp√°tica m√°s apropiada.\",\n    why_useful: \"Fortalece la empat√≠a cognitiva y ense√±a respuestas prosociales.\",\n    difficulty: \"3\",\n    stimulus: \"cognitivo\"\n  }],\n  Sensorial: [{\n    name: \"Caza de Luz\",\n    description: \"Haz clic en las luces que aparecen antes de que desaparezcan. Comienza despacio y observa c√≥mo el ritmo aumenta poco a poco.\",\n    why_useful: \"Mejora la coordinaci√≥n visual, la atenci√≥n y los reflejos, promoviendo el enfoque sensorial.\",\n    difficulty: \"1\",\n    stimulus: \"visual\"\n  }, {\n    name: \"Pulso Musical\",\n    description: \"Presiona al ritmo del sonido o la luz para sincronizarte con los est√≠mulos.\",\n    why_useful: \"Entrena la coordinaci√≥n auditivo-motora y la sincronizaci√≥n r√≠tmica.\",\n    difficulty: \"2\",\n    stimulus: \"auditivo\"\n  }, {\n    name: \"Reacci√≥n Sensorial\",\n    description: \"Presiona el bot√≥n tan pronto veas el c√≠rculo cambiar de color.\",\n    why_useful: \"Fortalece la velocidad de respuesta y la atenci√≥n sostenida ante est√≠mulos visuales.\",\n    difficulty: \"2\",\n    stimulus: \"visual\"\n  }]\n};\n\n/**\r\n * üîπ Devuelve todas las actividades de un m√≥dulo\r\n */\nexport function getActividadesPorModulo(moduleName) {\n  return actividadesData[moduleName] || [];\n}\n\n/**\r\n * üîπ Devuelve una actividad espec√≠fica por nombre dentro de un m√≥dulo\r\n */\nexport function getActividadPorNombre(moduleName, activityName) {\n  const actividades = getActividadesPorModulo(moduleName);\n  return actividades.find(a => a.name === activityName);\n}\n\n/**\r\n * üîπ Env√≠a los resultados o progreso de una actividad al backend\r\n * Si el backend no responde, guarda localmente.\r\n */\nexport const sendActivity = async data => {\n  try {\n    const res = await fetch(\"http://localhost:5000/analyze\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    if (!res.ok) throw new Error(\"Error al comunicarse con el backend\");\n    const json = await res.json();\n    console.log(\"‚úÖ Actividad enviada correctamente:\", json);\n    return json;\n  } catch (err) {\n    console.warn(\"‚ö†Ô∏è No se pudo enviar al backend, guardando localmente...\", err);\n    const logs = JSON.parse(localStorage.getItem(\"activityLogs\") || \"[]\");\n    logs.push({\n      ...data,\n      ts: Date.now()\n    });\n    localStorage.setItem(\"activityLogs\", JSON.stringify(logs));\n\n    // Retorno simulado para mantener flujo\n    return {\n      next_module: \"Sensorial\",\n      difficulty: 1,\n      localSave: true\n    };\n  }\n};","map":{"version":3,"names":["actividadesData","Social","name","description","why_useful","difficulty","stimulus","Sensorial","getActividadesPorModulo","moduleName","getActividadPorNombre","activityName","actividades","find","a","sendActivity","data","res","fetch","method","headers","body","JSON","stringify","ok","Error","json","console","log","err","warn","logs","parse","localStorage","getItem","push","ts","Date","now","setItem","next_module","localSave"],"sources":["C:/yo/personal/Proyectos/CognIA Hackaton UNAB 2025/neuro-link/src/services/activityService.js"],"sourcesContent":["// src/services/activityService.js\r\n\r\n/**\r\n * üîπ Base de datos local de actividades por m√≥dulo\r\n * (sustituye completamente al archivo actividades.json)\r\n */\r\nconst actividadesData = {\r\n  Social: [\r\n    {\r\n      name: \"Construye la respuesta\",\r\n      description:\r\n        \"El usuario arma una respuesta social adecuada tocando las palabras en orden.\",\r\n      why_useful:\r\n        \"Desarrolla el lenguaje expresivo y la estructura de la conversaci√≥n.\",\r\n      difficulty: \"3\",\r\n      stimulus: \"visual\",\r\n    },\r\n    {\r\n      name: \"Voz y emoci√≥n\",\r\n      description:\r\n        \"Escucha una frase con una emoci√≥n y selecciona cu√°l es la emoci√≥n expresada.\",\r\n      why_useful:\r\n        \"Entrena la interpretaci√≥n del tono de voz y la empat√≠a auditiva.\",\r\n      difficulty: \"2\",\r\n      stimulus: \"auditivo\",\r\n    },\r\n    {\r\n        name: \"Empat√≠a en acci√≥n\",\r\n        description: \"Se presenta una situaci√≥n y el usuario elige la acci√≥n emp√°tica m√°s apropiada.\",\r\n        why_useful: \"Fortalece la empat√≠a cognitiva y ense√±a respuestas prosociales.\",\r\n        difficulty: \"3\",\r\n        stimulus: \"cognitivo\",\r\n    },\r\n  ],\r\n\r\n  Sensorial: [\r\n    {\r\n      name: \"Caza de Luz\",\r\n      description:\r\n        \"Haz clic en las luces que aparecen antes de que desaparezcan. Comienza despacio y observa c√≥mo el ritmo aumenta poco a poco.\",\r\n      why_useful:\r\n        \"Mejora la coordinaci√≥n visual, la atenci√≥n y los reflejos, promoviendo el enfoque sensorial.\",\r\n      difficulty: \"1\",\r\n      stimulus: \"visual\",\r\n    },\r\n    {\r\n      name: \"Pulso Musical\",\r\n      description:\r\n        \"Presiona al ritmo del sonido o la luz para sincronizarte con los est√≠mulos.\",\r\n      why_useful:\r\n        \"Entrena la coordinaci√≥n auditivo-motora y la sincronizaci√≥n r√≠tmica.\",\r\n      difficulty: \"2\",\r\n      stimulus: \"auditivo\",\r\n    },\r\n    {\r\n      name: \"Reacci√≥n Sensorial\",\r\n      description:\r\n        \"Presiona el bot√≥n tan pronto veas el c√≠rculo cambiar de color.\",\r\n      why_useful:\r\n        \"Fortalece la velocidad de respuesta y la atenci√≥n sostenida ante est√≠mulos visuales.\",\r\n      difficulty: \"2\",\r\n      stimulus: \"visual\",\r\n    },\r\n    \r\n  ],\r\n  \r\n};\r\n\r\n/**\r\n * üîπ Devuelve todas las actividades de un m√≥dulo\r\n */\r\nexport function getActividadesPorModulo(moduleName) {\r\n  return actividadesData[moduleName] || [];\r\n}\r\n\r\n/**\r\n * üîπ Devuelve una actividad espec√≠fica por nombre dentro de un m√≥dulo\r\n */\r\nexport function getActividadPorNombre(moduleName, activityName) {\r\n  const actividades = getActividadesPorModulo(moduleName);\r\n  return actividades.find((a) => a.name === activityName);\r\n}\r\n\r\n/**\r\n * üîπ Env√≠a los resultados o progreso de una actividad al backend\r\n * Si el backend no responde, guarda localmente.\r\n */\r\nexport const sendActivity = async (data) => {\r\n  try {\r\n    const res = await fetch(\"http://localhost:5000/analyze\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!res.ok) throw new Error(\"Error al comunicarse con el backend\");\r\n\r\n    const json = await res.json();\r\n    console.log(\"‚úÖ Actividad enviada correctamente:\", json);\r\n    return json;\r\n  } catch (err) {\r\n    console.warn(\r\n      \"‚ö†Ô∏è No se pudo enviar al backend, guardando localmente...\",\r\n      err\r\n    );\r\n    const logs = JSON.parse(localStorage.getItem(\"activityLogs\") || \"[]\");\r\n    logs.push({ ...data, ts: Date.now() });\r\n    localStorage.setItem(\"activityLogs\", JSON.stringify(logs));\r\n\r\n    // Retorno simulado para mantener flujo\r\n    return { next_module: \"Sensorial\", difficulty: 1, localSave: true };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}