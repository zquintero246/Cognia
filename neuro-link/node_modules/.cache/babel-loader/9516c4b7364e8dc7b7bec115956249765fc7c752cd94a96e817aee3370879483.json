{"ast":null,"code":"// src/services/activityService.js\nimport actividadesData from \"../data/actividades.json\";\n\n/**\r\n * üîπ Obtiene todas las actividades de un m√≥dulo desde el JSON o las define est√°ticamente si no existen.\r\n */\nexport function getActividadesPorModulo(moduleName) {\n  var _actividadesFallback$;\n  // Buscar m√≥dulo en el archivo JSON\n  const modulo = actividadesData.modules.find(m => m.module.toLowerCase() === moduleName.toLowerCase());\n\n  // Si lo encuentra, devolver sus actividades\n  if (modulo) return modulo.activities;\n\n  // Si no est√° en el JSON, usar fallback est√°tico\n  const actividadesFallback = {\n    Cognitivo: [{\n      name: \"Memoria de colores\",\n      description: \"Observa y recuerda secuencias de colores.\",\n      why_useful: \"Mejora la memoria visual y la atenci√≥n.\",\n      difficulty: \"F√°cil\",\n      stimulus: \"Visual\"\n    }, {\n      name: \"Dibujar la figura\",\n      description: \"Reproduce figuras que se muestran en pantalla.\",\n      why_useful: \"Fortalece la coordinaci√≥n visomotriz y la precisi√≥n.\",\n      difficulty: \"Medio\",\n      stimulus: \"Visual/Motricidad\"\n    }, {\n      name: \"Flechas del Ritmo\",\n      description: \"Sigue el ritmo presionando la direcci√≥n correcta.\",\n      why_useful: \"Mejora la coordinaci√≥n ojo-mano, atenci√≥n y ritmo.\",\n      difficulty: \"Media\",\n      stimulus: \"Visual y Auditivo\"\n    }],\n    Social: [{\n      name: \"Construye la respuesta\",\n      description: \"Ordena las palabras para formar una respuesta social adecuada.\",\n      why_useful: \"Mejora la formulaci√≥n de respuestas sociales.\",\n      difficulty: \"F√°cil\",\n      stimulus: \"Visual/Textual\"\n    }, {\n      name: \"Empat√≠a en acci√≥n\",\n      description: \"Identifica emociones en situaciones cotidianas.\",\n      why_useful: \"Entrena reconocimiento emocional y empat√≠a.\",\n      difficulty: \"F√°cil\",\n      stimulus: \"Lectura\"\n    }, {\n      name: \"Voz y emoci√≥n\",\n      description: \"Practica decir frases y expresar emoci√≥n con la voz.\",\n      why_useful: \"Mejora la expresi√≥n verbal y entonaci√≥n.\",\n      difficulty: \"Medio\",\n      stimulus: \"Auditivo/Verbal\"\n    }],\n    Familiar: [{\n      name: \"Conversaci√≥n en Familia\",\n      description: \"Aprende a comunicarte con empat√≠a en tu entorno familiar.\",\n      why_useful: \"Fortalece v√≠nculos afectivos y fomenta el respeto.\",\n      difficulty: \"F√°cil\",\n      stimulus: \"Verbal\"\n    }, {\n      name: \"Resolviendo Conflictos\",\n      description: \"Elige la mejor forma de resolver desacuerdos en familia.\",\n      why_useful: \"Mejora la resoluci√≥n pac√≠fica de conflictos.\",\n      difficulty: \"Medio\",\n      stimulus: \"Reflexivo\"\n    }, {\n      name: \"Apoyo Mutuo\",\n      description: \"Practica el reconocimiento y la ayuda entre miembros de la familia.\",\n      why_useful: \"Fomenta la cooperaci√≥n y el sentido de equipo familiar.\",\n      difficulty: \"F√°cil\",\n      stimulus: \"Emocional/Reflexivo\"\n    }]\n  };\n  return (_actividadesFallback$ = actividadesFallback[moduleName]) !== null && _actividadesFallback$ !== void 0 ? _actividadesFallback$ : [];\n}\n\n/**\r\n * üîπ Obtiene una actividad espec√≠fica por nombre dentro de un m√≥dulo.\r\n */\nexport function getActividadPorNombre(moduleName, activityName) {\n  const actividades = getActividadesPorModulo(moduleName);\n  return actividades.find(a => a.name === activityName);\n}\n\n/**\r\n * üîπ Env√≠a los resultados o progreso de una actividad al backend.\r\n * Si el backend no est√° disponible, guarda en localStorage.\r\n */\nexport const sendActivity = async data => {\n  try {\n    const res = await fetch(\"http://localhost:5000/analyze\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    if (!res.ok) throw new Error(\"Error al comunicarse con el backend\");\n    const json = await res.json();\n    console.log(\"‚úÖ Actividad enviada correctamente:\", json);\n    return json;\n  } catch (err) {\n    console.warn(\"‚ö†Ô∏è No se pudo enviar al backend, guardando localmente...\", err);\n    const logs = JSON.parse(localStorage.getItem(\"activityLogs\") || \"[]\");\n    logs.push({\n      ...data,\n      ts: Date.now()\n    });\n    localStorage.setItem(\"activityLogs\", JSON.stringify(logs));\n\n    // Retornar una respuesta simulada para mantener flujo\n    return {\n      next_module: \"Sensorial\",\n      difficulty: 1,\n      localSave: true\n    };\n  }\n};","map":{"version":3,"names":["actividadesData","getActividadesPorModulo","moduleName","_actividadesFallback$","modulo","modules","find","m","module","toLowerCase","activities","actividadesFallback","Cognitivo","name","description","why_useful","difficulty","stimulus","Social","Familiar","getActividadPorNombre","activityName","actividades","a","sendActivity","data","res","fetch","method","headers","body","JSON","stringify","ok","Error","json","console","log","err","warn","logs","parse","localStorage","getItem","push","ts","Date","now","setItem","next_module","localSave"],"sources":["C:/yo/personal/Proyectos/CognIA Hackaton UNAB 2025/neuro-link/src/services/activityService.js"],"sourcesContent":["// src/services/activityService.js\r\nimport actividadesData from \"../data/actividades.json\";\r\n\r\n/**\r\n * üîπ Obtiene todas las actividades de un m√≥dulo desde el JSON o las define est√°ticamente si no existen.\r\n */\r\nexport function getActividadesPorModulo(moduleName) {\r\n  // Buscar m√≥dulo en el archivo JSON\r\n  const modulo = actividadesData.modules.find(\r\n    (m) => m.module.toLowerCase() === moduleName.toLowerCase()\r\n  );\r\n\r\n  // Si lo encuentra, devolver sus actividades\r\n  if (modulo) return modulo.activities;\r\n\r\n  // Si no est√° en el JSON, usar fallback est√°tico\r\n  const actividadesFallback = {\r\n  Cognitivo: [\r\n    {\r\n      name: \"Memoria de colores\",\r\n      description: \"Observa y recuerda secuencias de colores.\",\r\n      why_useful: \"Mejora la memoria visual y la atenci√≥n.\",\r\n      difficulty: \"F√°cil\",\r\n      stimulus: \"Visual\",\r\n    },\r\n    {\r\n      name: \"Dibujar la figura\",\r\n      description: \"Reproduce figuras que se muestran en pantalla.\",\r\n      why_useful: \"Fortalece la coordinaci√≥n visomotriz y la precisi√≥n.\",\r\n      difficulty: \"Medio\",\r\n      stimulus: \"Visual/Motricidad\",\r\n    },\r\n    {\r\n      name: \"Flechas del Ritmo\",\r\n      description: \"Sigue el ritmo presionando la direcci√≥n correcta.\",\r\n      why_useful: \"Mejora la coordinaci√≥n ojo-mano, atenci√≥n y ritmo.\",\r\n      difficulty: \"Media\",\r\n      stimulus: \"Visual y Auditivo\",\r\n    },\r\n  ],\r\n  Social: [\r\n    {\r\n      name: \"Construye la respuesta\",\r\n      description: \"Ordena las palabras para formar una respuesta social adecuada.\",\r\n      why_useful: \"Mejora la formulaci√≥n de respuestas sociales.\",\r\n      difficulty: \"F√°cil\",\r\n      stimulus: \"Visual/Textual\",\r\n    },\r\n    {\r\n      name: \"Empat√≠a en acci√≥n\",\r\n      description: \"Identifica emociones en situaciones cotidianas.\",\r\n      why_useful: \"Entrena reconocimiento emocional y empat√≠a.\",\r\n      difficulty: \"F√°cil\",\r\n      stimulus: \"Lectura\",\r\n    },\r\n    {\r\n      name: \"Voz y emoci√≥n\",\r\n      description: \"Practica decir frases y expresar emoci√≥n con la voz.\",\r\n      why_useful: \"Mejora la expresi√≥n verbal y entonaci√≥n.\",\r\n      difficulty: \"Medio\",\r\n      stimulus: \"Auditivo/Verbal\",\r\n    },\r\n  ],\r\n  Familiar: [\r\n    {\r\n      name: \"Conversaci√≥n en Familia\",\r\n      description: \"Aprende a comunicarte con empat√≠a en tu entorno familiar.\",\r\n      why_useful: \"Fortalece v√≠nculos afectivos y fomenta el respeto.\",\r\n      difficulty: \"F√°cil\",\r\n      stimulus: \"Verbal\",\r\n    },\r\n    {\r\n      name: \"Resolviendo Conflictos\",\r\n      description: \"Elige la mejor forma de resolver desacuerdos en familia.\",\r\n      why_useful: \"Mejora la resoluci√≥n pac√≠fica de conflictos.\",\r\n      difficulty: \"Medio\",\r\n      stimulus: \"Reflexivo\",\r\n    },\r\n    {\r\n      name: \"Apoyo Mutuo\",\r\n      description: \"Practica el reconocimiento y la ayuda entre miembros de la familia.\",\r\n      why_useful: \"Fomenta la cooperaci√≥n y el sentido de equipo familiar.\",\r\n      difficulty: \"F√°cil\",\r\n      stimulus: \"Emocional/Reflexivo\",\r\n    },\r\n  ],\r\n};\r\n\r\n  return actividadesFallback[moduleName] ?? [];\r\n}\r\n\r\n/**\r\n * üîπ Obtiene una actividad espec√≠fica por nombre dentro de un m√≥dulo.\r\n */\r\nexport function getActividadPorNombre(moduleName, activityName) {\r\n  const actividades = getActividadesPorModulo(moduleName);\r\n  return actividades.find((a) => a.name === activityName);\r\n}\r\n\r\n/**\r\n * üîπ Env√≠a los resultados o progreso de una actividad al backend.\r\n * Si el backend no est√° disponible, guarda en localStorage.\r\n */\r\nexport const sendActivity = async (data) => {\r\n  try {\r\n    const res = await fetch(\"http://localhost:5000/analyze\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n    });\r\n\r\n    if (!res.ok) throw new Error(\"Error al comunicarse con el backend\");\r\n\r\n    const json = await res.json();\r\n    console.log(\"‚úÖ Actividad enviada correctamente:\", json);\r\n    return json;\r\n  } catch (err) {\r\n    console.warn(\"‚ö†Ô∏è No se pudo enviar al backend, guardando localmente...\", err);\r\n    const logs = JSON.parse(localStorage.getItem(\"activityLogs\") || \"[]\");\r\n    logs.push({ ...data, ts: Date.now() });\r\n    localStorage.setItem(\"activityLogs\", JSON.stringify(logs));\r\n\r\n    // Retornar una respuesta simulada para mantener flujo\r\n    return { next_module: \"Sensorial\", difficulty: 1, localSave: true };\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}